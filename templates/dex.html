<!DOCTYPE html>
<html>
<head>
    <title>To Do App</title>
</head>

<body>
<style>
  ul {list-style: none;
  padding:0;
  margin: 0;}  
</style>
 <ul id="todo">
     {% for d in data %}
     <li><input type="checkbox" {% if d.completed %} checked {% endif %}/>{{d.description}}</li>
     {% endfor %}
 </ul>


<div class="hidden" id="error" style="display:none">something went wrong</div>
<form  id="form">
 <input type="text" id="description" name="description">
 <input type="submit"  value="create">

 <label for id="description">Create to do items</label>

</form>
<div class="hidden" id="error" style="display:none">something went wrong</div>
<script>
  document.getElementById('form').onsubmit= function(e) {e.preventDefault();
 fetch('/todo/create', {method:'post', body: JSON.stringify({'description': document.getElementById('descriptiion').value}), header: {'content-type': 'application/json'}}) 
 .then(function(response) {return response.json()})
 .then(function(jsonResponse) {console.log(jsonResponse);
      const liitem= document.createElement('LI');
      liitem.innerhtml=jsonResponse['description'];
      document.getELementById('todo').appendChild(liitem);
      document.getElementById('error').classname='hidden'})
 .catch(function() {return document.getElemnetById('error').classname='hidden'})}
</script>
</body>








</html>